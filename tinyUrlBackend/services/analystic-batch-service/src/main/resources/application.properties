server.port=8083

# ANALYTICS BATCH SERVICE DB - MASTER (Write operations)
spring.datasource.master.jdbc-url=jdbc:mysql://localhost:3307/analytics_batch_service?serverTimezone=UTC
spring.datasource.master.username=root
spring.datasource.master.password=root123
spring.datasource.master.driver-class-name=com.mysql.cj.jdbc.Driver

# ANALYTICS BATCH SERVICE DB - SLAVE (Read operations)
spring.datasource.slave.jdbc-url=jdbc:mysql://localhost:3308/analytics_batch_service?serverTimezone=UTC
spring.datasource.slave.username=root
spring.datasource.slave.password=root123
spring.datasource.slave.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA/HIBERNATE
spring.jpa.properties.hibernate.jdbc.time_zone=UTC

# DISABLE OPEN-IN-VIEW FOR MICROSERVICE ARCHITECTURE
spring.jpa.open-in-view=false

# TZ CONFIG
spring.jvm.timezone=UTC

# SCHEDULING CONFIGURATION
spring.task.scheduling.pool.size=5
spring.task.scheduling.thread-name-prefix=analytics-batch-

# BATCH PROCESSING CONFIGURATION
analytics.batch.enabled=true
analytics.batch.cron=0 0 0 * * *
analytics.batch.chunk-size=1000
analytics.batch.max-retry=3

# EXTERNAL SERVICES CONFIGURATION
services.realtime-service.base-url=http://localhost:8082
services.url-service.base-url=http://localhost:8081
services.timeout=5000

# EXTERNAL SERVICES CONFIGURATION
services.realtime-service.base-url=http://localhost:8082
services.url-service.base-url=http://localhost:8081
services.timeout=5000

# API GATEWAY CONFIGURATION
api.gateway.user-id-header=X-User-Id
# Database assignments: URL Service=0, User Management=1, Analytics Batch=3
spring.redis.host=localhost
spring.redis.port=6379
spring.redis.database=3
spring.redis.timeout=2000ms

# CACHE CONFIGURATION
spring.cache.type=redis
spring.cache.redis.time-to-live=3600000
spring.cache.redis.cache-null-values=false

# ANALYTICS CACHE TTL (in seconds)
cache.analytics.daily-stats.ttl=7200
cache.analytics.summary.ttl=3600
cache.analytics.url-ownership.ttl=1800

# LOGGING CONFIGURATION
logging.level.org.example=DEBUG
logging.level.org.springframework.scheduling=DEBUG
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# ACTUATOR CONFIGURATION
management.endpoints.web.exposure.include=health,info,metrics,scheduledtasks
management.endpoint.health.show-details=always